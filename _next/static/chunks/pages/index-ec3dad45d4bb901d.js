(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(4059)}])},4059:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return _}});var t=i(5893),o=i(5712),l=i(967),r=i(8156),a=i(603),c=i(7297),s=i(7294),d=i(2125),u=i(4623),h=i(5150),x=i(5927),j=i(3272),p=i(6486);function v(){var e=(0,c.Z)(["\n  position: absolute;\n  border: 1\n  top: 0;\n  right: 0;\n"]);return v=function(){return e},e}var f=d.ZP.div(v()),k=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(i){return document.body.removeChild(n),!1}},m=function(e){var n=e.keycloak,i=e.activeItem,o=e.customValue;if(o)return(0,t.jsxs)(u.Z,{className:"overflow-wrap",children:[(0,t.jsx)(f,{onClick:function(){return k(o)},children:(0,t.jsx)(l.Z,{icon:!0,children:(0,t.jsx)(h.Z,{name:"copy outline"})})}),o]});var r=n[i];return"string"===typeof r?(0,t.jsxs)(u.Z,{className:"overflow-wrap",children:[(0,t.jsx)(f,{onClick:function(){return k(r)},children:(0,t.jsx)(l.Z,{icon:!0,children:(0,t.jsx)(h.Z,{name:"copy outline"})})}),r]}):"object"===typeof r?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Z,{celled:!0,children:(0,t.jsx)(x.Z.Body,{children:Object.entries(r).map((function(e){var n=(0,a.Z)(e,2),i=n[0],o=n[1];return(0,t.jsxs)(x.Z.Row,{children:[(0,t.jsx)(x.Z.Cell,{children:i}),(0,t.jsx)(x.Z.Cell,{children:(0,p.isPlainObject)(o)?JSON.stringify(o):o})]},i)}))})})}):null};function Z(e){var n=e.keycloak,i=(0,s.useState)("payload"),o=i[0],l=i[1],r=function(e,n){var i=n.name;return l(i)},a="";if("payload"===o){var c={access_token:n.token,refresh_token:n.refreshToken,id_token:n.idToken};a=JSON.stringify(c)}return(0,t.jsx)(t.Fragment,{children:(null===n||void 0===n?void 0:n.authenticated)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.Z,{attached:"top",tabular:!0,children:[(0,t.jsx)(j.Z.Item,{name:"payload",active:"payload"===o,onClick:r,children:"Payload"}),(0,t.jsxs)(j.Z.Item,{name:"token",active:"token"===o,onClick:r,children:["Token Raw"," "]}),(0,t.jsx)(j.Z.Item,{name:"tokenParsed",active:"tokenParsed"===o,onClick:r}),(0,t.jsxs)(j.Z.Item,{name:"idToken",active:"idToken"===o,onClick:r,children:["ID Token Raw"," "]}),(0,t.jsx)(j.Z.Item,{name:"idTokenParsed",active:"idTokenParsed"===o,onClick:r}),(0,t.jsxs)(j.Z.Item,{name:"refreshToken",active:"refreshToken"===o,onClick:r,children:["Refresh Token Raw"," "]}),(0,t.jsx)(j.Z.Item,{name:"refreshTokenParsed",active:"refreshTokenParsed"===o,onClick:r})]}),(0,t.jsx)(m,{keycloak:n,activeItem:o,customValue:a,style:{maxWidth:"100%"}})]})})}var g=i(4924),C=i(6042),y=i(9396),b=i(919),I=i(6083),w=i(1860),T=i.n(w);function O(e){var n=e.kcConfig,i=e.setKcConfig,o=e.loginOptions,r=e.setLginOptions,a=(0,s.useState)(null),c=a[0],d=a[1],u=(0,s.useState)(n),x=u[0],j=u[1],p=(0,s.useState)(o),v=p[0],f=p[1],k=function(e,n){var i=n.index;d(i===c?null:i)},m=function(e,n){var i=n.name,t=n.value;j((0,y.Z)((0,C.Z)({},x),(0,g.Z)({},i,t)))},Z=function(e,n){var i=n.name,t=n.value;f((0,y.Z)((0,C.Z)({},v),(0,g.Z)({},i,t)))};return(0,t.jsxs)(b.Z,{styled:!0,children:[(0,t.jsxs)(b.Z.Title,{active:0===c,index:0,onClick:k,children:[(0,t.jsx)(h.Z,{name:"dropdown"}),"Keycloak OIDC Config"]}),(0,t.jsx)(b.Z.Content,{active:0===c,children:(0,t.jsxs)(I.Z,{onSubmit:function(){T().session("kcConfig",x),i(x)},children:[(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"Auth Server Url"}),(0,t.jsx)(I.Z.Input,{placeholder:"e.g https://dev.loginproxy.gov.bc.ca/auth",required:!0,type:"url",onChange:m,name:"url",defaultValue:null===x||void 0===x?void 0:x.url})]}),(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"Realm"}),(0,t.jsx)(I.Z.Input,{placeholder:"Realm",required:!0,onChange:m,name:"realm",defaultValue:null===x||void 0===x?void 0:x.realm})]}),(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"Client Id"}),(0,t.jsx)(I.Z.Input,{placeholder:"Client ID (resource)",required:!0,onChange:m,name:"clientId",defaultValue:null===x||void 0===x?void 0:x.clientId})]}),(0,t.jsx)(l.Z,{type:"submit",children:"Update"})]})}),(0,t.jsxs)(b.Z.Title,{active:1===c,index:1,onClick:k,children:[(0,t.jsx)(h.Z,{name:"dropdown"}),"Keycloak Login Options"]}),(0,t.jsx)(b.Z.Content,{active:1===c,children:(0,t.jsxs)(I.Z,{onSubmit:function(){T().session("loginOptions",v),r(v)},children:[(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"IDP Hint"}),(0,t.jsx)(I.Z.Input,{placeholder:"e.g idir",onChange:Z,name:"idpHint",defaultValue:null===v||void 0===v?void 0:v.idpHint})]}),(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"Redirect URI"}),(0,t.jsx)(I.Z.Input,{placeholder:"http://localhost:3000/",required:!0,type:"url",onChange:Z,name:"redirectUri",defaultValue:null===v||void 0===v?void 0:v.redirectUri})]}),(0,t.jsxs)(I.Z.Field,{children:[(0,t.jsx)("label",{children:"Scope"}),(0,t.jsx)(I.Z.Input,{placeholder:"openid",required:!0,type:"text",onChange:Z,name:"scope",defaultValue:null===v||void 0===v?void 0:v.scope})]}),(0,t.jsx)(l.Z,{type:"submit",children:"Update"})]})})]})}var _=function(e){var n=e.keycloak,i=e.kcConfig,a=e.setKcConfig,c=e.loginOptions,s=e.setLginOptions;return(0,t.jsxs)(o.Z,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("h1",{children:"Keycloak OIDC Playground"}),(0,t.jsxs)("p",{children:["This is a playground application for using the ",(0,t.jsx)("code",{children:"keycloak-js"})," adapter. Click the"," ",(0,t.jsx)("strong",{children:"Login"})," button below to login with the default client (uses IDIR as an IDP) and see your different token details. If you have your own public client, you can use the form below (Click on"," ",(0,t.jsx)("strong",{children:"Set My Own Client"}),") to authenticate to your own client."]}),(0,t.jsx)(l.Z,{onClick:function(){return null===n||void 0===n?void 0:n.login(c)},children:"Login"}),(null===n||void 0===n?void 0:n.authenticated)&&(0,t.jsx)(l.Z,{onClick:function(){return null===n||void 0===n?void 0:n.logout()},children:"Logout"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(O,{kcConfig:i,setKcConfig:a,loginOptions:c,setLginOptions:s}),(0,t.jsx)("br",{}),(null===n||void 0===n?void 0:n.authenticated)?(0,t.jsx)(Z,{keycloak:n}):(0,t.jsx)(r.Z,{children:(0,t.jsx)("p",{children:"Login to see id token details"})})]})}}},function(e){e.O(0,[662,731,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);