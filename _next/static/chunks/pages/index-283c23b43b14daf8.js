(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4059)}])},4059:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(5893),i=t(5712),o=t(967),l=t(8156),a=t(7294),c=t(2125),s=t(4623),u=t(5150),d=t(5927),h=t(3272),f=t(6486);function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);l=!0);}catch(c){a=!0,i=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var e,n,t=(e=["\n  position: absolute;\n  border: 1\n  top: 0;\n  right: 0;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return p=function(){return t},t}var x=c.ZP.div(p()),m=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(t){return document.body.removeChild(n),!1}},y=function(e){var n=e.keycloak,t=e.activeItem,i=e.customValue;if(i)return(0,r.jsxs)(s.Z,{className:"overflow-wrap",children:[(0,r.jsx)(x,{onClick:function(){return m(i)},children:(0,r.jsx)(o.Z,{icon:!0,children:(0,r.jsx)(u.Z,{name:"copy outline"})})}),i]});var l=n[t];return"string"===typeof l?(0,r.jsxs)(s.Z,{className:"overflow-wrap",children:[(0,r.jsx)(x,{onClick:function(){return m(l)},children:(0,r.jsx)(o.Z,{icon:!0,children:(0,r.jsx)(u.Z,{name:"copy outline"})})}),l]}):"object"===typeof l?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{celled:!0,children:(0,r.jsx)(d.Z.Body,{children:Object.entries(l).map((function(e){var n=v(e,2),t=n[0],i=n[1];return(0,r.jsxs)(d.Z.Row,{children:[(0,r.jsx)(d.Z.Cell,{children:t}),(0,r.jsx)(d.Z.Cell,{children:(0,f.isPlainObject)(i)?JSON.stringify(i):i})]},t)}))})})}):null};function k(e){var n=e.keycloak,t=(0,a.useState)("payload"),i=t[0],o=t[1],l=function(e,n){var t=n.name;return o(t)},c="";if("payload"===i){var s={access_token:n.token,refresh_token:n.refreshToken,id_token:n.idToken};c=JSON.stringify(s)}return(0,r.jsx)(r.Fragment,{children:(null===n||void 0===n?void 0:n.authenticated)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Z,{attached:"top",tabular:!0,children:[(0,r.jsx)(h.Z.Item,{name:"payload",active:"payload"===i,onClick:l,children:"Payload"}),(0,r.jsxs)(h.Z.Item,{name:"token",active:"token"===i,onClick:l,children:["Token Raw"," "]}),(0,r.jsx)(h.Z.Item,{name:"tokenParsed",active:"tokenParsed"===i,onClick:l}),(0,r.jsxs)(h.Z.Item,{name:"idToken",active:"idToken"===i,onClick:l,children:["ID Token Raw"," "]}),(0,r.jsx)(h.Z.Item,{name:"idTokenParsed",active:"idTokenParsed"===i,onClick:l}),(0,r.jsxs)(h.Z.Item,{name:"refreshToken",active:"refreshToken"===i,onClick:l,children:["Refresh Token Raw"," "]}),(0,r.jsx)(h.Z.Item,{name:"refreshTokenParsed",active:"refreshTokenParsed"===i,onClick:l})]}),(0,r.jsx)(y,{keycloak:n,activeItem:i,customValue:c,style:{maxWidth:"100%"}})]})})}var g=t(919),b=t(6083),Z=t(1860),C=t.n(Z);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}function O(e){var n=e.kcConfig,t=e.setKcConfig,i=e.loginOptions,l=e.setLginOptions,c=(0,a.useState)(null),s=c[0],d=c[1],h=(0,a.useState)(n),f=h[0],j=h[1],v=(0,a.useState)(i),p=v[0],x=v[1],m=function(e,n){var t=n.index;d(t===s?null:t)},y=function(e,n){var t=n.name,r=n.value;j(I({},f,w({},t,r)))},k=function(e,n){var t=n.name,r=n.value;x(I({},p,w({},t,r)))};return(0,r.jsxs)(g.Z,{styled:!0,children:[(0,r.jsxs)(g.Z.Title,{active:0===s,index:0,onClick:m,children:[(0,r.jsx)(u.Z,{name:"dropdown"}),"Keycloak OIDC Config"]}),(0,r.jsx)(g.Z.Content,{active:0===s,children:(0,r.jsxs)(b.Z,{onSubmit:function(){C().session("kcConfig",f),t(f)},children:[(0,r.jsxs)(b.Z.Field,{children:[(0,r.jsx)("label",{children:"Auth Server Url"}),(0,r.jsx)(b.Z.Input,{placeholder:"e.g https://dev.oidc.gov.bc.ca/auth",required:!0,type:"url",onChange:y,name:"url",defaultValue:null===f||void 0===f?void 0:f.url})]}),(0,r.jsxs)(b.Z.Field,{children:[(0,r.jsx)("label",{children:"Realm"}),(0,r.jsx)(b.Z.Input,{placeholder:"Realm",required:!0,onChange:y,name:"realm",defaultValue:null===f||void 0===f?void 0:f.realm})]}),(0,r.jsxs)(b.Z.Field,{children:[(0,r.jsx)("label",{children:"Client Id"}),(0,r.jsx)(b.Z.Input,{placeholder:"Client ID (resource)",required:!0,onChange:y,name:"clientId",defaultValue:null===f||void 0===f?void 0:f.clientId})]}),(0,r.jsx)(o.Z,{type:"submit",children:"Update"})]})}),(0,r.jsxs)(g.Z.Title,{active:1===s,index:1,onClick:m,children:[(0,r.jsx)(u.Z,{name:"dropdown"}),"Keycloak Login Options"]}),(0,r.jsx)(g.Z.Content,{active:1===s,children:(0,r.jsxs)(b.Z,{onSubmit:function(){C().session("loginOptions",p),l(p)},children:[(0,r.jsxs)(b.Z.Field,{children:[(0,r.jsx)("label",{children:"IDP Hint"}),(0,r.jsx)(b.Z.Input,{placeholder:"e.g idir",onChange:k,name:"idpHint",defaultValue:null===p||void 0===p?void 0:p.idpHint})]}),(0,r.jsxs)(b.Z.Field,{children:[(0,r.jsx)("label",{children:"Redirect URI"}),(0,r.jsx)(b.Z.Input,{placeholder:"http://localhost:3000/",required:!0,type:"url",onChange:k,name:"redirectUri",defaultValue:null===p||void 0===p?void 0:p.redirectUri})]}),(0,r.jsx)(o.Z,{type:"submit",children:"Update"})]})})]})}var P=function(e){var n=e.keycloak,t=e.kcConfig,a=e.setKcConfig,c=e.loginOptions,s=e.setLginOptions;return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("h1",{children:"Keycloak OIDC Playground"}),(0,r.jsxs)("p",{children:["This is a playground application for using the ",(0,r.jsx)("code",{children:"keycloak-js"})," adapter. Click the"," ",(0,r.jsx)("strong",{children:"Login"})," button below to login with the default client (uses IDIR as an IDP) and see your different token details. If you have your own public client, you can use the form below (Click on"," ",(0,r.jsx)("strong",{children:"Set My Own Client"}),") to authenticate to your own client."]}),(0,r.jsx)(o.Z,{onClick:function(){return null===n||void 0===n?void 0:n.login(c)},children:"Login"}),(null===n||void 0===n?void 0:n.authenticated)&&(0,r.jsx)(o.Z,{onClick:function(){return null===n||void 0===n?void 0:n.logout()},children:"Logout"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(O,{kcConfig:t,setKcConfig:a,loginOptions:c,setLginOptions:s}),(0,r.jsx)("br",{}),(null===n||void 0===n?void 0:n.authenticated)?(0,r.jsx)(k,{keycloak:n}):(0,r.jsx)(l.Z,{children:(0,r.jsx)("p",{children:"Login to see id token details"})})]})}}},function(e){e.O(0,[662,638,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);